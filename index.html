<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amref Nalatenschap Impact Calculator</title>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WR7FXB');</script>
    <!-- End Google Tag Manager -->

    <!-- Microsoft Clarity -->
    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "v3yvkvdxes");
    </script>
    <!-- End Microsoft Clarity -->

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        /* Amref Brand Colors & Typography */
        :root {
            --amref-red: #E30613;
            --amref-green: #7CB342;
            --amref-green-hover: #6BA644;
            --amref-white: #FFFFFF;
            --amref-light-gray: #F5F5F5;
            --amref-text-dark: #333333;
            --amref-text-black: #000000;
            --amref-light-red: #FFF5F5;
            --amref-shadow: rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--amref-text-dark);
            background-color: var(--amref-white);
        }

        .calculator-container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--amref-white);
            min-height: 100vh;
            position: relative;
        }

        .header {
            background-color: var(--amref-white);
            color: var(--amref-text-black);
            display: flex;
            flex-direction: column;
            gap: 0;
            margin: 1.5rem 1.5rem 0 1.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border-radius: 20px;
            overflow: hidden;
        }

        .header-content {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            padding: 3rem 3rem 2rem 3rem;
            border-left: 5px solid var(--amref-red);
        }

        .header-logo {
            width: 160px;
            height: auto;
            display: block;
        }

        .header-text {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0;
            color: var(--amref-text-black);
            line-height: 1.3;
        }

        .header p {
            font-size: 1rem;
            margin: 0;
            color: var(--amref-text-dark);
        }

        .header-image-container {
            width: 100%;
            height: auto;
            position: relative;
        }

        .header-image {
            width: 100%;
            height: auto;
            max-height: 400px;
            object-fit: cover;
            object-position: center center;
            display: block;
            border-radius: 0;
        }

        .main-content {
            padding: 2rem 1.5rem;
        }

        .intro-section {
            text-align: center;
            margin-bottom: 3rem;
        }

        .intro-section h2 {
            color: var(--amref-text-black);
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .intro-section p {
            font-size: 1rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-image {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 3rem;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px var(--amref-shadow);
        }

        .hero-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .calculator-section {
            background: var(--amref-white);
            border-radius: 8px;
            box-shadow: 0 2px 10px var(--amref-shadow);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .calculator-intro {
            text-align: center;
            font-size: 1.1rem;
            color: var(--amref-text-dark);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .amount-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .amount-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 0;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--amref-white);
            overflow: hidden;
            display: block;
            width: 100%;
            font-family: inherit;
        }

        .amount-card:hover {
            border-color: var(--amref-red);
            border-width: 3px;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
            transform: translateY(-8px);
        }

        .amount-card.selected {
            border-color: var(--amref-red);
            background: var(--amref-light-red);
        }

        .amount-card:focus {
        outline: 3px solid var(--amref-red);
        outline-offset: 2px;
        }

        .amount-card:active {
        transform: translateY(-6px);
        }

        .amount-card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            display: block;
        }

        .amount-card-content {
            padding: 1.5rem;
        }

        .amount-card .amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--amref-red);
            margin-bottom: 0.5rem;
        }

        .amount-card .location {
            font-size: 0.9rem;
            color: var(--amref-text-dark);
            font-weight: 600;
        }

        .impact-display {
            background: var(--amref-light-gray);
            border-radius: 8px;
            padding: 2rem;
            margin-top: 2rem;
            border-left: 4px solid var(--amref-red);
            min-height: 150px;
            display: none;
        }

        .impact-display.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .impact-title {
            color: var(--amref-red);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .impact-description {
            font-size: 1rem;
            line-height: 1.8;
            white-space: pre-line;
        }

        .impact-description p {
            margin-bottom: 1.2rem;
        }

        .impact-counter {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            padding: 1.5rem;
            background: var(--amref-white);
            border-radius: 8px;
            box-shadow: 0 2px 8px var(--amref-shadow);
        }

        .counter-number {
            font-size: 3rem;
            font-weight: bold;
            color: var(--amref-red);
            margin-right: 1rem;
        }

        .counter-text {
            font-size: 1.1rem;
            color: var(--amref-text-dark);
        }

        .trust-indicators {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin: 2rem 0;
            padding: 1rem;
            background: var(--amref-light-gray);
            border-radius: 8px;
        }

        .trust-badge {
            text-align: center;
            font-size: 0.9rem;
            color: var(--amref-text-dark);
        }

        .form-section {
        background: #FAFAFA;
        border-radius: 12px;
        box-shadow: 0 2px 10px var(--amref-shadow);
        padding: 50px;
        margin-top: 2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
     }

        .form-section-image {
            flex-shrink: 0;
            width: 180px;
        }

        .form-section-image img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }

        .form-section-image img:hover {
            transform: scale(1.02);
        }

        .form-section-content {
            flex: 1;
        }

        .form-section h3 {
            color: var(--amref-text-black);
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-align: left;
            line-height: 1.3;
        }

        .form-section p {
            text-align: left;
            margin-bottom: 1rem;
            color: var(--amref-text-dark);
            line-height: 1.6;
        }

        .form-section p:first-of-type {
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--amref-text-black);
        }

    .form-section h3,
.form-section p {
    text-align: center;
}

.form-group {
    margin-bottom: 1.5rem;
    max-width: 400px;
    width: 100%;
}

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 400;
            font-size: 0.875rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input::placeholder {
            color: #999;
        }

        .form-group input:hover {
            border-color: #bbb;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--amref-green);
            box-shadow: 0 0 0 3px rgba(124, 179, 66, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            margin: 1.5rem 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-top: 0.2rem;
        }

        .checkbox-group label {
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .submit-btn {
            max-width: 400px;
            background-color: #8BC34A;
            color: var(--amref-white);
            border: none;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
            box-shadow: 0 2px 8px rgba(124, 179, 66, 0.2);
        }

        .submit-btn:hover {
            background-color: var(--amref-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(124, 179, 66, 0.3);
        }

        .submit-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(124, 179, 66, 0.2);
        }

        .submit-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .footer {
            background: var(--amref-light-gray);
            padding: 3rem 1.5rem 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        .footer-logo {
            max-width: 200px;
            height: auto;
            margin: 0 auto 1rem;
            display: block;
        }

        .footer-text {
            font-size: 0.9rem;
            color: var(--amref-text-dark);
            line-height: 1.6;
        }

        .footer-text strong {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--amref-text-black);
        }

        @media (max-width: 768px) {
            .calculator-container {
                margin: 0;
            }

            .header {
                flex-direction: column;
                gap: 0;
                margin: 1rem;
                min-height: auto;
                border-radius: 12px;
            }

            .header-content {
                width: 100%;
                align-items: center;
                text-align: center;
                border-left: none;
                border-top: 5px solid var(--amref-red);
                padding: 2rem 1.5rem;
            }

            .header-logo {
                width: 140px;
            }

            .header-image-container {
                width: 100%;
                margin-right: 0;
            }

            .header-image {
                width: 100%;
                max-width: 100%;
                min-height: 300px;
                border-radius: 0 0 12px 12px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .footer-logo {
                max-width: 160px;
            }

            .main-content {
                padding: 1.5rem 1rem;
            }

            .calculator-section,
            .form-section {
                padding: 2rem 1.5rem;
            }

            .form-section {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 30px 20px;
                text-align: center;
            }

            .form-section h3 {
                text-align: center;
                font-size: 1.5rem;
            }

            .form-section p {
                text-align: center;
            }

            .form-section-image {
                width: 150px;
                margin: 0 auto;
            }

            .form-section-image img {
                height: 150px;
            }

            .form-group {
                max-width: 100%;
            }

            .submit-btn {
                max-width: 100%;
            }

            .amount-selector {
                grid-template-columns: 1fr;
            }

            .counter-number {
                font-size: 2.5rem;
            }

            .trust-indicators {
                flex-direction: column;
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.3rem;
            }

            .amount-card-image {
                height: 150px;
            }

            .amount-card-content {
                padding: 1rem;
            }

            .amount-card .amount {
                font-size: 1.3rem;
            }

            .counter-number {
                font-size: 2rem;
            }

            .impact-counter {
                flex-direction: column;
                text-align: center;
            }

            .counter-number {
                margin-right: 0;
                margin-bottom: 0.5rem;
            }
        }

        /* Toast notification styles */
        .toast-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: var(--amref-white);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            max-width: 90%;
            width: auto;
            min-width: 300px;
            opacity: 0;
            transition: all 0.3s ease;
            border-left: 4px solid var(--amref-red);
        }

        .toast-notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .toast-notification.success {
            border-left-color: var(--amref-green);
        }

        .toast-notification.error {
            border-left-color: var(--amref-red);
        }

        .toast-notification .toast-message {
            font-size: 1rem;
            color: var(--amref-text-dark);
            line-height: 1.5;
        }

        @media (max-width: 480px) {
            .toast-notification {
                min-width: 280px;
                max-width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WR7FXB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Toast notification -->
    <div id="toastNotification" class="toast-notification">
        <div class="toast-message" id="toastMessage"></div>
    </div>

    <div class="calculator-container">
        <header class="header">
            <div class="header-content">
                <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/amref-logo.png" alt="Amref Health Africa" class="header-logo">
                <div class="header-text">
                    <h1>Geef gezondheid. Geef toekomst.<br>Maak medische zorg bereikbaar voor iedereen. <br>Ontdek nu net als Wim en Agnes uw impact.</h1>
                </div>
            </div>
            <div class="header-image-container">
                <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/AMREF%20-%20STILLS%20AGNES%20EN%20WIM-05.jpg" alt="Wim en Agnes - Amref nalatenschap" class="header-image">
            </div>
        </header>

        <main class="main-content">
            <section class="calculator-section">
                <h2 style="text-align: center; margin-bottom: 1rem; font-size: 1.5rem; color: #000;">Uw nalatenschap voor betere zorg in Afrika</h2>
                <p class="calculator-intro"><strong>Kies een bedrag en ontdek welke impact ú maakt</strong></p>
                <div class="amount-selector">
                <button type="button" class="amount-card" data-amount="1000" data-location="Zuid-Soedan" data-project="Vaccineer de kleintjes" aria-label="Selecteer €1.000 voor Vaccineer de kleintjes in Zuid-Soedan">                        <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/project-1000.jpg" alt="Kinderen vaccineren in Zuid-Soedan" class="amount-card-image" loading="lazy">
                        <div class="amount-card-content">
                            <div class="amount">€1.000</div>
                            <div class="location">Vaccineer de kleintjes</div>
                        </div>
                   </button>
                   <button type="button" class="amount-card" data-amount="5025" data-location="Tanzania" data-project="Een eigen WC" aria-label="Selecteer €5.025 voor Een eigen WC in Tanzania">
                        <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/project-5025.jpg" alt="Veilige toiletten in Tanzania" class="amount-card-image" loading="lazy">
                        <div class="amount-card-content">
                            <div class="amount">€5.025</div>
                            <div class="location">Een eigen WC</div>
                        </div>
                   </button>
                    <button type="button" class="amount-card" data-amount="12000" data-location="Zambia" data-project="Verpleegsters in opleiding" aria-label="Selecteer €12.000 voor Verpleegsters in opleiding in Zambia">
                        <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/project-12000.jpg" alt="Verpleegsters opleiden in Zambia" class="amount-card-image" loading="lazy">
                        <div class="amount-card-content">
                            <div class="amount">€12.000</div>
                            <div class="location">Verpleegsters in opleiding</div>
                        </div>
                   </button>
                    <button type="button" class="amount-card" data-amount="21100" data-location="Kenia" data-project="Altijd hulp door zonnepanelen" aria-label="Selecteer €21.100 voor Altijd hulp door zonnepanelen in Kenia">
                        <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/project-21100.jpeg" alt="Zonnepanelen voor ziekenhuis in Kenia" class="amount-card-image" loading="lazy">
                        <div class="amount-card-content">
                            <div class="amount">€21.100</div>
                            <div class="location">Altijd hulp door zonnepanelen</div>
                        </div>
                    </button>
                    <button type="button" class="amount-card" data-amount="50400" data-location="Ethiopië" data-project="Outreach" aria-label="Selecteer €50.400 voor Outreach in Ethiopië">
                        <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/project-50400.jpg" alt="Zorg in afgelegen gebieden van Ethiopië" class="amount-card-image" loading="lazy">
                        <div class="amount-card-content">
                            <div class="amount">€50.400</div>
                            <div class="location">Outreach</div>
                        </div>
                   </button>
                   <button type="button" class="amount-card" data-amount="146000" data-location="Kenia" data-project="Meisjes blijven op school" aria-label="Selecteer €146.000 voor Meisjes blijven op school in Kenia">
                        <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/project-146000.jpeg" alt="Watersysteem voor scholen in Kenia" class="amount-card-image" loading="lazy">
                        <div class="amount-card-content">
                            <div class="amount">€146.000</div>
                            <div class="location">Meisjes blijven op school</div>
                        </div>
                   </button>
                </div>

                <div class="impact-display" id="impactDisplay">
                    <div class="impact-title" id="impactTitle"></div>
                    <div class="impact-description" id="impactDescription"></div>
                </div>

                <div class="impact-counter" id="impactCounter" style="display: none;">
                    <div class="counter-number" id="counterNumber">0</div>
                    <div class="counter-text" id="counterText"></div>
                </div>
            </section>

            <div class="trust-indicators">
                <div class="trust-badge">
                    <strong>ANBI Gecertificeerd</strong><br>
                    Uw donatie is fiscaal aftrekbaar
                </div>
                <div class="trust-badge">
                    <strong>68 jaar ervaring</strong><br>
                    Duurzame zorg in Afrika
                </div>
                <div class="trust-badge">
                    <strong>Een Afrikaanse organisatie</strong><br>
                    Samenwerking met gemeenschappen
                </div>
            </div>

            <section class="form-section">
               
                <div class="form-section-content">
                    <h3>Ontvang uw Amref Impact Dossier.</h3>
                   <p>Alle impact verhalen overzichtelijk op één plek, zodat u in rust kunt kiezen welke impact bij uw nalatenschap past.</p>

                    <form id="contactForm">
                        <div class="form-group">
                            <label for="fullName">Volledige naam</label>
                            <input type="text" id="fullName" name="fullName" placeholder="Bijvoorbeeld: Jan de Vries" required>
                        </div>

                        <div class="form-group">
                            <label for="email">E-mailadres</label>
                            <input type="email" id="email" name="email" placeholder="naam@voorbeeld.nl" required>
                        </div>

                        <button type="submit" class="submit-btn">Ja, ik ontvang graag het dossier</button>
                    </form>
                </div>
            </section>

            <footer class="footer">
                <img src="https://pmdubdmaghyvibnopgcb.supabase.co/storage/v1/object/public/amref-images/amref-logo.png" alt="Amref Health Africa" class="footer-logo">
                <div class="footer-text">
                    <strong>Amref Health Africa</strong>
                    Duurzame gezondheidszorg in Afrika sinds 1957<br>
                    Een Afrikaanse organisatie met 68 jaar ervaring<br><br>
                    Dit zijn echte projecten en laten zien hoe uw geld ingezet kan worden.<br> 
                    Uw nalatenschap komt terecht daar waar het het hardst nodig is
                </div>
            </footer>
        </main>
    </div>

    <script>
        // Initialize Supabase client with error handling
        const SUPABASE_URL = 'https://pmdubdmaghyvibnopgcb.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtZHViZG1hZ2h5dmlibm9wZ2NiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1NTI0NjQsImV4cCI6MjA3NjEyODQ2NH0.TTcN29b6zP2xxB0oFot6iCEIBHM0tbzMtQbBWDiQ3ws';
        let supabaseClient = null;
        try {
            if (window.supabase) {
                supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            } else {
                console.warn('Supabase library not loaded');
            }
        } catch (e) {
            console.error('Error initializing Supabase:', e);
        }

        // Track selected amount globally
        let selectedAmount = null;
        let selectedLocation = null;
        let selectedProject = null;

        // Toast notification function
        function showToast(message, type = 'error') {
            const toast = document.getElementById('toastNotification');
            const toastMessage = document.getElementById('toastMessage');

            toastMessage.textContent = message;
            toast.className = 'toast-notification ' + type;

            // Show toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);

            // Hide toast after 4 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }

        // Impact data voor elke donatie
        const impactData = {
            1000: {
                title: "Bescherm de kleintjes",
                description: "In Zuid-Soedan krijgen veel kinderen nog niet de kans om beschermd op te groeien. Ze lopen risico op ziektes als difterie, tetanus en kinkhoest – aandoeningen die in Nederland bijna niet meer voorkomen. Met uw nalatenschap helpt u om daar verandering in te brengen. Voor €1.000 kunnen 125 kinderen worden gevaccineerd en krijgen zij een betere start in het leven, met meer kansen om gezond op te groeien en naar school te gaan.\n\nAmref werkt samen met lokale zorgverleners die gezinnen thuis bezoeken, ook in de meest afgelegen dorpen. Zij geven voorlichting, brengen vaccins en zorgen dat ouders weten hoe ze hun kinderen kunnen beschermen. Zo groeit niet alleen de gezondheid van kinderen, maar ook het vertrouwen en de kennis binnen de gemeenschap.\n\nUw bijdrage helpt een hele gemeenschap vooruit. Gezonde kinderen kunnen spelen, leren en later zelf voor anderen zorgen. Zo bouwt u mee aan een sterkere toekomst voor gezinnen in Zuid-Soedan – van binnenuit, en blijvend.",
                counter: { number: 125, text: "kinderen gevaccineerd" }
            },
            5025: {
                title: "Een eigen wc",
                description: "In veel dorpen in Tanzania is een veilige wc nog steeds een luxe. Mensen doen hun behoefte buiten, waardoor waterbronnen vervuild raken en ziektes als diarree zich razendsnel verspreiden. Elke dag overlijden hierdoor honderden kinderen.\n\nMet uw nalatenschap helpt u gezinnen om dit voorgoed te veranderen. Niet door wc's voor hen te bouwen, maar door hen zélf in staat te stellen er één te realiseren: duurzaam, trots en eigenaarschap staan centraal.\n\nAmref traint lokale zorgverleners die in hun eigen gemeenschap voorlichting geven over het belang van goede hygiëne en sanitaire voorzieningen. Tegelijk leiden we metselaars en loodgieters op die wc's kunnen bouwen en onderhouden. Gezinnen die een wc willen, kunnen via microkredieten zelf investeren in hun gezondheid. Zo ontstaat een lokale markt waarin kennis, werkgelegenheid en gezondheid hand in hand gaan\n\nMet een bijdrage van €5.000 maakt u het mogelijk om 75 gezinnen te helpen bij het bouwen van hun eigen wc. Dat betekent honderden mensen die niet langer ziek worden door vervuild water, meisjes die veilig naar school kunnen, en gemeenschappen die trots zijn op hun eigen toekomst. Uw gift zorgt niet alleen voor schone wc's, maar voor waardigheid, werk en een blijvende verbetering van gezondheid, gedragen door de mensen zelf.",
                counter: { number: 75, text: "gezinnen met een veilige wc" }
            },
            12000: {
                title: "Verpleegsters in opleiding",
                description: "In grote delen van Afrika is het tekort aan goed opgeleide zorgverleners nijpend. Waar Nederland 11,7 verlos- en verpleegkundigen heeft op 1.000 inwoners, zijn dat er in Zambia slechts 2,1.\n\nHet gevolg is dat talloze mensen overlijden aan ziekten die eenvoudig te voorkomen of te behandelen zijn, en dat veel vrouwen sterven tijdens hun bevalling omdat er niemand in de buurt is die hen kan helpen. Met uw nalatenschap verandert u dit. Voor €12.000 krijgen 20 jonge vrouwen in Zambia de kans om een jaar lang verpleegkunde te studeren.\n\nAmref Health Africa investeert al decennia in de opleiding van lokale zorgverleners. Via onze eigen Amref International University in Nairobi en onze digitale leerplatforms Leap en Jibu kunnen studenten, ook in afgelegen gebieden, op elk moment leren en zich blijven ontwikkelen\n\nUw nalatenschap maakt dit mogelijk: het opleiden van vrouwen die op hun beurt duizenden mensen de zorg bieden die zij verdienen. Zo ontstaat een kettingreactie van kennis, gezondheid en hoop. Want iedere verpleegkundige die u helpt opleiden, betekent honderden mensen die een kans krijgen op een gezond leven. Lokaal, duurzaam en met blijvende impact.",
                counter: { number: 20, text: "verpleegsters opgeleid" }
            },
            21100: {
                title: "'s Nachts ook veilig bevallen",
                description: "In veel kleine ziekenhuizen in Kenia is elektriciteit nog altijd geen vanzelfsprekendheid. Zonder stroom vallen koelkasten met vaccins uit, stopt medische apparatuur met werken en moeten verloskundigen bij het licht van een zaklamp bevallingen begeleiden. Het gebrek aan betrouwbare energie maakt elke nacht een risico voor moeders en pasgeborenen.\n\nUw nalatenschap verandert dat. Met €21.100 krijgt een ziekenhuis in een afgelegen gebied zonnepanelen, waarmee zij 24 uur per dag kunnen beschikken over veilige, duurzame stroom. Daardoor kunnen zorgverleners ook 's nachts veilig bevallingen begeleiden, blijven levensreddende vaccins en medicijnen gekoeld en zijn noodbehandelingen altijd mogelijk. Tegelijk worden lokale technici opgeleid om de installaties te onderhouden: zo blijft de kennis in de gemeenschap en versterken we de lokale economie\n\nEén ziekenhuis helpt gemiddeld 1.200 mensen per maand. Uw bijdrage zorgt ervoor dat moeders veilig kunnen bevallen, baby's gezond ter wereld komen en families weten dat de deur van de ziekenhuis nooit dicht is: zelfs niet als het donker wordt. Een nalatenschap die letterlijk licht brengt, en daarmee leven.",
                counter: { number: 1200, text: "mensen per maand geholpen" }
            },
            50400: {
                title: "Zorg in de meest afgelegen gebieden",
                description: "In het noorden van Ethiopië, in de regio Amhara, is de gezondheidszorg ingestort na jaren van oorlog en droogte. Ziekenhuizen zijn verwoest, zorgverleners gevlucht en hele dorpen hebben geen toegang meer tot medische hulp. Vooral vrouwen en kinderen worden hierdoor het hardst getroffen: zwangere vrouwen moeten bevallen zonder hulp, en ondervoede kinderen blijven vaak onbehandeld.\n\nMet uw nalatenschap helpt u deze gemeenschappen herstellen. Voor €50.400 maakt u het mogelijk om via medische outreaches 17.000 mensen te bereiken met zorg en voorlichting. Lokale zorgverleners — getraind door Amref via het mobiele leerplatform Leap — trekken te voet of per motor naar dorpen waar geen ziekenhuis meer functioneert. Zij behandelen ondervoede kinderen, begeleiden zwangere vrouwen, vaccineren baby's en geven voorlichting over hygiëne, voeding en gezinsplanning. Waar nodig bieden ze ook medische en psychosociale hulp aan slachtoffers van seksueel geweld.\n\nUw nalatenschap brengt hoop en herstel in een regio die is getekend door conflict. Door zorgverleners te ondersteunen en lokale gemeenschappen te versterken, bouwt u mee aan vrede en toekomstperspectief. Gezondheid betekent hier meer dan genezing: het is de eerste stap naar stabiliteit, vertrouwen en een nieuw begin.",
                counter: { number: 17000, text: "mensen bereikt met zorg" }
            },
            146000: {
                title: "Meisjes blijven op school",
                description: "In veel Afrikaanse landen, zo ook in Kenia, is het halen van water de taak van vrouwen en meisjes. Elke dag lopen zij soms wel twaalf kilometer om water te halen uit vervuilde meren of rivieren. Die tijd kunnen ze niet naar school of aan werk besteden. Bovendien lopen ze onderweg lopen risico's op geweld of ziekte.\n\nMet uw nalatenschap doorbreekt u deze vicieuze cirkel. Voor €146.000 maakt u een duurzaam watersysteem mogelijk waarmee ruim 3.500 mensen in een gemeenschap toegang krijgen tot schoon en veilig drinkwater: een investering in gezondheid, onderwijs en gelijke kansen.\n\nWaterStarters, een initiatief van Amref, werkt met een innovatief franchisemodel waarbij lokale ondernemers eigenaar worden van hun eigen waterbedrijf. Zij worden getraind in onderhoud, administratie en hygiënevoorlichting en gebruiken zonne-energie, grondwaterscans en slimme watermeters om water betrouwbaar en betaalbaar te leveren. Zo ontstaat een lokaal netwerk van waterbedrijven die jarenlang zelfstandig blijven draaien, met directe voordelen voor gezondheid, werkgelegenheid en het milieu.\n\nUw nalatenschap maakt water tot iets blijvends. Meisjes kunnen naar school blijven gaan, vrouwen krijgen tijd om te werken en gezinnen leven gezonder. U brengt niet alleen water, maar ook veiligheid en toekomst: een stroom van verandering die blijft vloeien, generatie na generatie.",
                counter: { number: 3500, text: "mensen 15 jaar lang voorzien van water" }
            }
        };

        // DOM elementen
        const amountCards = document.querySelectorAll('.amount-card');
        const impactDisplay = document.getElementById('impactDisplay');
        const impactTitle = document.getElementById('impactTitle');
        const impactDescription = document.getElementById('impactDescription');
        const impactCounter = document.getElementById('impactCounter');
        const counterNumber = document.getElementById('counterNumber');
        const counterText = document.getElementById('counterText');
        const contactForm = document.getElementById('contactForm');

        // Event listeners voor bedrag selectie
        amountCards.forEach(card => {
            card.addEventListener('click', function() {
            // Remove active class from all cards
            amountCards.forEach(c => c.classList.remove('selected'));

            // Add active class to clicked card
            this.classList.add('selected');

           // Get selected amount and location
            const amount = parseInt(this.dataset.amount);
            const location = this.dataset.location;
            const project = this.dataset.project;

            // Store globally for form submission
            selectedAmount = amount;
            selectedLocation = location;
            selectedProject = project;

            // Push to dataLayer for GTM
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'donation_option_click',
                'donation_amount': amount,
                'donation_location': location,
                'donation_project': project,
                'donation_amount_formatted': '€' + amount.toLocaleString()
            });

        // Show impact
        showImpact(amount);

                // Google Analytics tracking
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'amount_selected', {
                        'event_category': 'calculator',
                        'event_label': `€${amount.toLocaleString()}`,
                        'value': amount
                    });
                }
            });
        });

        function showImpact(amount) {
            const impact = impactData[amount];

            if (impact) {
                // Update content
                impactTitle.textContent = impact.title;
                impactDescription.textContent = impact.description;

                // Show impact display
                impactDisplay.classList.add('active');

                // Animate counter
                animateCounter(impact.counter.number, impact.counter.text);

                // Smooth scroll to impact display (especially important on mobile)
                setTimeout(() => {
                    impactDisplay.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 100);
            }
        }

        function animateCounter(targetNumber, text) {
            impactCounter.style.display = 'flex';
            counterText.textContent = text;

            let currentNumber = 0;
            const increment = targetNumber > 100 ? Math.ceil(targetNumber / 50) : 1;
            const timer = setInterval(() => {
                currentNumber += increment;
                if (currentNumber >= targetNumber) {
                    currentNumber = targetNumber;
                    clearInterval(timer);
                }
                counterNumber.textContent = currentNumber.toLocaleString();
            }, 30);
        }

        // Form submission with Supabase
        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();

            const formData = new FormData(this);
            const data = Object.fromEntries(formData);

            // Basic validation
            if (!data.fullName || !data.email) {
                showToast('Vul alle verplichte velden in.', 'error');
                return;
            }

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(data.email)) {
                showToast('Voer een geldig e-mailadres in.', 'error');
                return;
            }

            // Disable submit button
            const submitBtn = this.querySelector('.submit-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Versturen...';

            try {
                // Check if Supabase is available
                if (!supabaseClient) {
                    throw new Error('Database connection not available');
                }

                // Insert data into Supabase
                const { data: insertData, error } = await supabaseClient
                    .from('nalatenschap_leads')
                    .insert([
                        {
                            full_name: data.fullName,
                            email: data.email,
                            selected_amount: selectedAmount,
                            selected_location: selectedLocation
                        }
                    ]);

                if (error) {
                    throw error;
                }

                // Google Analytics tracking
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'form_submit', {
                        'event_category': 'lead_generation',
                        'event_label': 'nalatenschap_info_request',
                        'value': selectedAmount
                    });
                }

                // Show success message
                showToast('Bedankt voor uw interesse! U ontvangt binnen zo snel mogelijk onze informatiebrochure.', 'success');

                // Reset form
                this.reset();
                submitBtn.disabled = false;
                submitBtn.textContent = 'Ja, ik wil meer informatie';

                // Hide impact display
                impactDisplay.classList.remove('active');
                impactCounter.style.display = 'none';
                amountCards.forEach(c => c.classList.remove('selected'));

                // Reset selected amount
                selectedAmount = null;
                selectedLocation = null;

            } catch (error) {
                console.error('Error submitting form:', error);
                showToast('Er is iets misgegaan bij het versturen. Probeer het later opnieuw.', 'error');
                submitBtn.disabled = false;
                submitBtn.textContent = 'Ja, ik wil meer informatie';
            }
        });

        // Google Analytics page view tracking
        if (typeof gtag !== 'undefined') {
            gtag('event', 'page_view', {
                'page_title': 'Nalatenschap Calculator',
                'page_location': window.location.href
            });
        }

        // Track scroll depth for engagement
        let maxScroll = 0;
        window.addEventListener('scroll', function() {
            const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
            if (scrollPercent > maxScroll) {
                maxScroll = scrollPercent;
                if (maxScroll >= 25 && maxScroll < 50 && typeof gtag !== 'undefined') {
                    gtag('event', 'scroll_depth', {
                        'event_category': 'engagement',
                        'event_label': '25%'
                    });
                } else if (maxScroll >= 50 && maxScroll < 75 && typeof gtag !== 'undefined') {
                    gtag('event', 'scroll_depth', {
                        'event_category': 'engagement',
                        'event_label': '50%'
                    });
                } else if (maxScroll >= 75 && typeof gtag !== 'undefined') {
                    gtag('event', 'scroll_depth', {
                        'event_category': 'engagement',
                        'event_label': '75%'
                    });
                }
            }
        });
    </script>
</body>
</html>
